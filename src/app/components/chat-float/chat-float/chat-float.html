<!-- BotÃ³n flotante que abre / cierra el chat -->
<div class="chat-toggle-button" (click)="toggleChat()">
  <img src="assets/img/avatar-chatbot.png"
       alt="Chatbot Avatar"
       class="chatbot-icon" />
  Asistente Virtual de Cursos
</div>

<!-- Ventana de chat -->
<div class="chat-box" *ngIf="chatVisible">
  <!-- Cabecera -->
  <div class="chat-header">
    <span>Asistente Virtual de Cursos</span>
    <button (click)="toggleChat()">âœ–</button>
  </div>

  <!-- Tarjeta de bienvenida (se oculta con â€œEntiendoâ€) -->
  <div class="chat-welcome-card" *ngIf="mostrarModal">
    <h4>Â¡Hola! ğŸ‘‹</h4>
    <p>PodÃ©s preguntarme cosas como:</p>
    <ul>
      <li>ğŸ“… Â¿CuÃ¡ndo empiezan los cursos?</li>
      <li>ğŸ“ Â¿CÃ³mo me inscribo?</li>
      <li>ğŸ¯ Â¿QuÃ© curso me recomiendan?</li>
    </ul>
    <button (click)="cerrarModal()" class="boton-entendido">Entiendo</button>
  </div>

  <!-- Historial de mensajes -->
  <div class="chat-messages">
    <div *ngFor="let msg of messages"
         [ngClass]="{ user: msg.from === 'user', bot: msg.from === 'bot' }"
         [innerHTML]="msg.from === 'bot' ? msg.html : msg.text">
    </div>
  </div>

  <!-- Input + botÃ³n enviar -->
  <div class="chat-input">
    <input [(ngModel)]="userMessage"
           (keydown.enter)="sendMessage()"
           placeholder="EscribÃ­ tu pregunta..." />
    <button (click)="sendMessage()">Enviar</button>
  </div>
</div>
